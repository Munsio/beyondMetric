"use strict";const interval=100;const observerConfig={attributes:true,childList:true,subtree:true};const observerTarget=document;const monsterStatsContainerClass='.mon-stat-block';const waitingForMonsterStats=function(){const loadingCharacterSheet=setInterval(function(){const monsterStatsLoaded=queryAll(monsterStatsContainerClass).length>=1;if(monsterStatsLoaded){monsterStatsAfterLoad();clearInterval(loadingCharacterSheet);}},interval);};const monsterStatsAfterLoad=function(){replaceUnits();new MutationObserver(replaceUnits).observe(observerTarget,observerConfig);};const replaceUnits=function(){setInterval(function(){convertUnitsInMonsterText();},interval);};const convertUnitsInMonsterText=function(){const moreInfoClass='.more-info-content';const statBlock=queryAll(monsterStatsContainerClass+','+moreInfoClass);statBlock.forEach(function(el){if(checkIfNotEmpty(el)&&!checkIfMarked(el,convertedClass)){const textNodes=textNodesUnder(el);textNodes.forEach(function(tn){if(checkIfTextNodeNotEmpty(tn)){tn.textContent=calculateWeightInText(calculateMetricDistanceInText(tn.textContent));}});markModified(el);}});};waitForSwitchToBeTriggered('bmToggleStates','msToggle',waitingForMonsterStats);addStorageListener('bmToggleStates','msToggle',waitingForMonsterStats);